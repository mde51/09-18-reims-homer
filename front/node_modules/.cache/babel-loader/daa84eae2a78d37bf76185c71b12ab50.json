{"ast":null,"code":"import _defineProperty from \"/home/wilder/Quetes/09-18-reims-homer/homer-odyssey/front/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/wilder/Quetes/09-18-reims-homer/homer-odyssey/front/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/wilder/Quetes/09-18-reims-homer/homer-odyssey/front/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/wilder/Quetes/09-18-reims-homer/homer-odyssey/front/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/wilder/Quetes/09-18-reims-homer/homer-odyssey/front/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/wilder/Quetes/09-18-reims-homer/homer-odyssey/front/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/wilder/Quetes/09-18-reims-homer/homer-odyssey/front/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/wilder/Quetes/09-18-reims-homer/homer-odyssey/front/src/SignUp.js\";\nimport React, { Component } from \"react\";\nimport { TextField, Button, Snackbar, IconButton } from \"@material-ui/core\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport { Link } from \"react-router-dom\";\n\nvar SignUp =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SignUp, _Component);\n\n  function SignUp() {\n    var _this;\n\n    _classCallCheck(this, SignUp);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SignUp).call(this));\n\n    _this.handleClick = function () {\n      _this.setState({\n        open: true\n      });\n    };\n\n    _this.handleClose = function () {\n      _this.setState({\n        open: false\n      });\n    };\n\n    _this.state = {\n      email: \"mon@email.com\",\n      password: \"monPassw0rd\",\n      passwordbis: \"monPassw0rd\",\n      name: \"James\",\n      lastname: \"Bond\",\n      flash: \"\",\n      open: false\n    };\n    _this.updateEmailField = _this.updateEmailField.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.updatePassword = _this.updatePassword.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.updateName = _this.updateName.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.updateLastname = _this.updateLastname.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(SignUp, [{\n    key: \"updateEmailField\",\n    value: function updateEmailField(event) {\n      this.setState({\n        email: event.target.value\n      });\n    }\n  }, {\n    key: \"updatePassword\",\n    value: function updatePassword(event) {\n      this.setState({\n        password: event.target.value\n      });\n    }\n  }, {\n    key: \"updateName\",\n    value: function updateName(event) {\n      this.setState({\n        name: event.target.value\n      });\n    }\n  }, {\n    key: \"updateLastname\",\n    value: function updateLastname(event) {\n      this.setState({\n        lastname: event.target.value\n      });\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(event) {\n      var _this2 = this;\n\n      console.log(\"A name was submitted: \" + JSON.stringify(this.state, 1, 1));\n      fetch(\"/auth/signup\", {\n        method: \"POST\",\n        headers: new Headers({\n          \"Content-Type\": \"application/json\"\n        }),\n        body: JSON.stringify({\n          email: this.state.email,\n          password: this.state.password,\n          name: this.state.name,\n          lastname: this.state.lastname\n        })\n      }).then(function (res) {\n        return res.json();\n      }).then(function (res) {\n        return _this2.setState({\n          flash: res.flash,\n          open: true\n        });\n      }, function (err) {\n        return _this2.setState({\n          flash: err.flash,\n          open: true\n        });\n      });\n      event.preventDefault();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _React$createElement;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \"E-mail\"), React.createElement(TextField, {\n        onChange: this.updateEmailField,\n        type: \"email\",\n        name: \"email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }), React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, \"Password\"), React.createElement(TextField, {\n        onChange: this.updatePassword,\n        type: \"password\",\n        name: \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }), React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, \"Name\"), React.createElement(TextField, {\n        onChange: this.updateName,\n        type: \"text\",\n        name: \"name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }), React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, \"Lastname\"), React.createElement(TextField, {\n        onChange: this.updateLastname,\n        type: \"text\",\n        name: \"lastname\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }), React.createElement(Button, {\n        color: \"primary\",\n        variant: \"contained\",\n        type: \"submit\",\n        value: \"Soumettre\",\n        onClick: this.handleClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, \"Valider\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }), React.createElement(Link, {\n        to: \"/signin\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, \"Retour Acceuil\"), React.createElement(Snackbar, (_React$createElement = {\n        open: this.state.open,\n        message: \"Vous \\xEAtes inscrit !!\",\n        autoHideDuration: 4000,\n        onRequestClose: this.handleClose,\n        ContentProps: {\n          \"aria-describedby\": \"message-id\"\n        }\n      }, _defineProperty(_React$createElement, \"message\", React.createElement(\"span\", {\n        id: \"message-id\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, this.state.flash)), _defineProperty(_React$createElement, \"action\", [React.createElement(IconButton, {\n        key: \"close\",\n        \"aria-label\": \"Close\",\n        color: \"inherit\",\n        onClick: this.handleClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(CloseIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }))]), _defineProperty(_React$createElement, \"__source\", {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      }), _defineProperty(_React$createElement, \"__self\", this), _React$createElement))));\n    }\n  }]);\n\n  return SignUp;\n}(Component);\n\nexport default SignUp;","map":{"version":3,"sources":["/home/wilder/Quetes/09-18-reims-homer/homer-odyssey/front/src/SignUp.js"],"names":["React","Component","TextField","Button","Snackbar","IconButton","CloseIcon","Link","SignUp","handleClick","setState","open","handleClose","state","email","password","passwordbis","name","lastname","flash","updateEmailField","bind","updatePassword","updateName","updateLastname","handleSubmit","event","target","value","console","log","JSON","stringify","fetch","method","headers","Headers","body","then","res","json","err","preventDefault"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,SAAT,EAAoBC,MAApB,EAA4BC,QAA5B,EAAsCC,UAAtC,QAAwD,mBAAxD;AACA,OAAOC,SAAP,MAAsB,0BAAtB;AACA,SAASC,IAAT,QAAqB,kBAArB;;IAEMC,M;;;;;AACJ,oBAAc;AAAA;;AAAA;;AACZ;;AADY,UAkCdC,WAlCc,GAkCA,YAAM;AAClB,YAAKC,QAAL,CAAc;AACZC,QAAAA,IAAI,EAAE;AADM,OAAd;AAGD,KAtCa;;AAAA,UAwCdC,WAxCc,GAwCA,YAAM;AAClB,YAAKF,QAAL,CAAc;AACZC,QAAAA,IAAI,EAAE;AADM,OAAd;AAGD,KA5Ca;;AAEZ,UAAKE,KAAL,GAAa;AACXC,MAAAA,KAAK,EAAE,eADI;AAEXC,MAAAA,QAAQ,EAAE,aAFC;AAGXC,MAAAA,WAAW,EAAE,aAHF;AAIXC,MAAAA,IAAI,EAAE,OAJK;AAKXC,MAAAA,QAAQ,EAAE,MALC;AAMXC,MAAAA,KAAK,EAAE,EANI;AAOXR,MAAAA,IAAI,EAAE;AAPK,KAAb;AASA,UAAKS,gBAAL,GAAwB,MAAKA,gBAAL,CAAsBC,IAAtB,uDAAxB;AACA,UAAKC,cAAL,GAAsB,MAAKA,cAAL,CAAoBD,IAApB,uDAAtB;AACA,UAAKE,UAAL,GAAkB,MAAKA,UAAL,CAAgBF,IAAhB,uDAAlB;AACA,UAAKG,cAAL,GAAsB,MAAKA,cAAL,CAAoBH,IAApB,uDAAtB;AACA,UAAKI,YAAL,GAAoB,MAAKA,YAAL,CAAkBJ,IAAlB,uDAApB;AAfY;AAgBb;;;;qCAEgBK,K,EAAO;AACtB,WAAKhB,QAAL,CAAc;AAAEI,QAAAA,KAAK,EAAEY,KAAK,CAACC,MAAN,CAAaC;AAAtB,OAAd;AACD;;;mCAEcF,K,EAAO;AACpB,WAAKhB,QAAL,CAAc;AAAEK,QAAAA,QAAQ,EAAEW,KAAK,CAACC,MAAN,CAAaC;AAAzB,OAAd;AACD;;;+BAEUF,K,EAAO;AAChB,WAAKhB,QAAL,CAAc;AAAEO,QAAAA,IAAI,EAAES,KAAK,CAACC,MAAN,CAAaC;AAArB,OAAd;AACD;;;mCAEcF,K,EAAO;AACpB,WAAKhB,QAAL,CAAc;AAAEQ,QAAAA,QAAQ,EAAEQ,KAAK,CAACC,MAAN,CAAaC;AAAzB,OAAd;AACD;;;iCAcYF,K,EAAO;AAAA;;AAClBG,MAAAA,OAAO,CAACC,GAAR,CAAY,2BAA2BC,IAAI,CAACC,SAAL,CAAe,KAAKnB,KAApB,EAA2B,CAA3B,EAA8B,CAA9B,CAAvC;AACAoB,MAAAA,KAAK,CAAC,cAAD,EAAiB;AACpBC,QAAAA,MAAM,EAAE,MADY;AAEpBC,QAAAA,OAAO,EAAE,IAAIC,OAAJ,CAAY;AACnB,0BAAgB;AADG,SAAZ,CAFW;AAKpBC,QAAAA,IAAI,EAAEN,IAAI,CAACC,SAAL,CAAe;AACnBlB,UAAAA,KAAK,EAAE,KAAKD,KAAL,CAAWC,KADC;AAEnBC,UAAAA,QAAQ,EAAE,KAAKF,KAAL,CAAWE,QAFF;AAGnBE,UAAAA,IAAI,EAAE,KAAKJ,KAAL,CAAWI,IAHE;AAInBC,UAAAA,QAAQ,EAAE,KAAKL,KAAL,CAAWK;AAJF,SAAf;AALc,OAAjB,CAAL,CAYGoB,IAZH,CAYQ,UAAAC,GAAG;AAAA,eAAIA,GAAG,CAACC,IAAJ,EAAJ;AAAA,OAZX,EAaGF,IAbH,CAcI,UAAAC,GAAG;AAAA,eAAI,MAAI,CAAC7B,QAAL,CAAc;AAAES,UAAAA,KAAK,EAAEoB,GAAG,CAACpB,KAAb;AAAoBR,UAAAA,IAAI,EAAE;AAA1B,SAAd,CAAJ;AAAA,OAdP,EAeI,UAAA8B,GAAG;AAAA,eAAI,MAAI,CAAC/B,QAAL,CAAc;AAAES,UAAAA,KAAK,EAAEsB,GAAG,CAACtB,KAAb;AAAoBR,UAAAA,IAAI,EAAE;AAA1B,SAAd,CAAJ;AAAA,OAfP;AAiBAe,MAAAA,KAAK,CAACgB,cAAN;AACD;;;6BACQ;AAAA;;AACP,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAM,QAAA,QAAQ,EAAE,KAAKjB,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,EAEE,oBAAC,SAAD;AACE,QAAA,QAAQ,EAAE,KAAKL,gBADjB;AAEE,QAAA,IAAI,EAAC,OAFP;AAGE,QAAA,IAAI,EAAC,OAHP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,EAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAPF,EAQE,oBAAC,SAAD;AACE,QAAA,QAAQ,EAAE,KAAKE,cADjB;AAEE,QAAA,IAAI,EAAC,UAFP;AAGE,QAAA,IAAI,EAAC,UAHP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QARF,EAcE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAdF,EAeE,oBAAC,SAAD;AAAW,QAAA,QAAQ,EAAE,KAAKC,UAA1B;AAAsC,QAAA,IAAI,EAAC,MAA3C;AAAkD,QAAA,IAAI,EAAC,MAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAfF,EAgBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAhBF,EAiBE,oBAAC,SAAD;AACE,QAAA,QAAQ,EAAE,KAAKC,cADjB;AAEE,QAAA,IAAI,EAAC,MAFP;AAGE,QAAA,IAAI,EAAC,UAHP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAjBF,EAsBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAtBF,EAuBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAvBF,EAyBE,oBAAC,MAAD;AACE,QAAA,KAAK,EAAC,SADR;AAEE,QAAA,OAAO,EAAC,WAFV;AAGE,QAAA,IAAI,EAAC,QAHP;AAIE,QAAA,KAAK,EAAC,WAJR;AAKE,QAAA,OAAO,EAAE,KAAKf,WALhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAzBF,EAkCE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAlCF,EAmCE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAnCF,EAoCE,oBAAC,IAAD;AAAM,QAAA,EAAE,EAAC,SAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BApCF,EAsCE,oBAAC,QAAD;AACE,QAAA,IAAI,EAAE,KAAKI,KAAL,CAAWF,IADnB;AAEE,QAAA,OAAO,EAAC,yBAFV;AAGE,QAAA,gBAAgB,EAAE,IAHpB;AAIE,QAAA,cAAc,EAAE,KAAKC,WAJvB;AAKE,QAAA,YAAY,EAAE;AACZ,8BAAoB;AADR;AALhB,0DAQW;AAAM,QAAA,EAAE,EAAC,YAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAuB,KAAKC,KAAL,CAAWM,KAAlC,CARX,mDASU,CAEN,oBAAC,UAAD;AACE,QAAA,GAAG,EAAC,OADN;AAEE,sBAAW,OAFb;AAGE,QAAA,KAAK,EAAC,SAHR;AAIE,QAAA,OAAO,EAAE,KAAKP,WAJhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAME,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QANF,CAFM,CATV;AAAA;AAAA;AAAA,uFAtCF,CADF,CADF;AAgED;;;;EArIkBX,S;;AAwIrB,eAAeO,MAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { TextField, Button, Snackbar, IconButton } from \"@material-ui/core\";\nimport CloseIcon from \"@material-ui/icons/Close\"\nimport { Link } from \"react-router-dom\"\n\nclass SignUp extends Component {\n  constructor() {\n    super();\n    this.state = {\n      email: \"mon@email.com\",\n      password: \"monPassw0rd\",\n      passwordbis: \"monPassw0rd\",\n      name: \"James\",\n      lastname: \"Bond\",\n      flash: \"\",\n      open: false\n    };\n    this.updateEmailField = this.updateEmailField.bind(this);\n    this.updatePassword = this.updatePassword.bind(this);\n    this.updateName = this.updateName.bind(this);\n    this.updateLastname = this.updateLastname.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  updateEmailField(event) {\n    this.setState({ email: event.target.value });\n  }\n\n  updatePassword(event) {\n    this.setState({ password: event.target.value });\n  }\n\n  updateName(event) {\n    this.setState({ name: event.target.value });\n  }\n\n  updateLastname(event) {\n    this.setState({ lastname: event.target.value });\n  }\n\n  handleClick = () => {\n    this.setState({\n      open: true\n    });\n  };\n\n  handleClose = () => {\n    this.setState({\n      open: false\n    });\n  };\n\n  handleSubmit(event) {\n    console.log(\"A name was submitted: \" + JSON.stringify(this.state, 1, 1));\n    fetch(\"/auth/signup\", {\n      method: \"POST\",\n      headers: new Headers({\n        \"Content-Type\": \"application/json\"\n      }),\n      body: JSON.stringify({\n        email: this.state.email,\n        password: this.state.password,\n        name: this.state.name,\n        lastname: this.state.lastname\n      })\n    })\n      .then(res => res.json())\n      .then(\n        res => this.setState({ flash: res.flash, open: true }),\n        err => this.setState({ flash: err.flash, open: true })\n      );\n    event.preventDefault();\n  }\n  render() {\n    return (\n      <div>\n        <form onSubmit={this.handleSubmit}>\n          <h4>E-mail</h4>\n          <TextField\n            onChange={this.updateEmailField}\n            type=\"email\"\n            name=\"email\"\n          />\n          <h4>Password</h4>\n          <TextField\n            onChange={this.updatePassword}\n            type=\"password\"\n            name=\"password\"\n          />\n          \n          <h4>Name</h4>\n          <TextField onChange={this.updateName} type=\"text\" name=\"name\" />\n          <h4>Lastname</h4>\n          <TextField\n            onChange={this.updateLastname}\n            type=\"text\"\n            name=\"lastname\"\n          />\n          <br />\n          <br />\n\n          <Button\n            color=\"primary\"\n            variant=\"contained\"\n            type=\"submit\"\n            value=\"Soumettre\"\n            onClick={this.handleClick}\n          >\n            Valider\n          </Button>\n          <br />\n          <br />\n          <Link to=\"/signin\">Retour Acceuil</Link>\n\n          <Snackbar\n            open={this.state.open}\n            message=\"Vous êtes inscrit !!\"\n            autoHideDuration={4000}\n            onRequestClose={this.handleClose}\n            ContentProps={{\n              \"aria-describedby\": \"message-id\"\n            }}\n            message={<span id=\"message-id\">{this.state.flash}</span>}\n            action={[\n            \n              <IconButton\n                key=\"close\"\n                aria-label=\"Close\"\n                color=\"inherit\"\n                onClick={this.handleClose}\n              >\n                <CloseIcon />\n              </IconButton>\n            ]}\n            />\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default SignUp;\n"]},"metadata":{},"sourceType":"module"}